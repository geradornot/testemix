"use strict";!function(t){var e={},o="offset",n=function(){},r=!1,a=void 0===t.addEventListener,i={loopDelay:50,maxLoop:5,testRemoteList:!0,debug:!0,useLocalBait:!0,blockLists:[],found:n,notfound:n,complete:n};var l=function(t){var e=new XMLHttpRequest;this.success=t.success||n,this.fail=t.fail||n;var o=this,r=t.method||"get";this.abort=function(){try{e.abort()}catch(t){}},e.onreadystatechange=function(t){4==e.readyState&&(200==e.status?o.success(e.response):o.fail(e.status))},e.open(r,t.url,!0),e.send()},u=function(){var t={};this.addUrl=function(e){return t[e]={url:e,state:"pending",format:null,data:null,result:null},t[e]},this.setResult=function(e,o,n){var r=t[e];if(null==r&&(r=this.addUrl(e)),r.state=o,null!=n){if("string"==typeof n)try{n=function(t){var e;try{e=JSON.parse(t)}catch(o){try{e=new Function("return "+t)()}catch(t){y("Failed secondary JSON parse",!0)}}return e}(n),r.format="json"}catch(t){r.format="easylist"}return r.data=n,r}r.result=null}},s=[],c=null,d={cssClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links"},f={nullProps:[o+"Parent"],zeroProps:[]};f.zeroProps=[o+"Height",o+"Left",o+"Top",o+"Width",o+"Height","clientHeight","clientWidth"];var p={quick:null,remote:null},m=null,v={test:0,download:0};function g(t){return"function"==typeof t}function y(e,o){(i.debug||o)&&t.console&&t.console.log&&(o?console.error("[ABD] "+e):console.log("[ABD] "+e))}var b,h=[];function w(t){var e,o;b.addUrl(t),e=new l({url:t,success:function(e){y("downloaded file "+t),o=b.setResult(t,"success",e);try{var n=0,a=0,i=function(t){return!r&&(k(t,!0),!0)};if(1==m)return;if(i(o.data))return;y("Pause before test execution"),n=setInterval(function(){(i(o.data)||a++>5)&&clearInterval(n)},250)}catch(e){y(e.message+" url: "+t,!0)}},fail:function(e){y(e,!0),b.setResult(t,"error",null)}}),h.push(e)}function P(){var t,e=i;for(t=0;t<e.blockLists.length;t++)w(e.blockLists[t])}function k(t,o){1!=m&&(r=!0,D(t),o?p.remote="testing":p.quick="testing",v.test=setTimeout(function(){!function t(o,n){var a;var l=document.body;var u=!1;var p=null;null==c&&(y("recast bait"),D(o||d));if("string"==typeof o)return y("invalid bait used",!0),void(x()&&setTimeout(function(){r=!1},5));v.test>0&&(clearTimeout(v.test),v.test=0);null!==l.getAttribute("abp")&&(y("found adblock body attribute"),u=!0,p="body_abp_attr");if(!u){for(a=0;a<f.nullProps.length;a++){if(null==c[f.nullProps[a]]){n>4&&(u=!0),y("found adblock null attr: "+f.nullProps[a]),p="div hidden with attribute: null attr-"+f.nullProps[a];break}if(1==u)break}for(a=0;a<f.zeroProps.length&&1!=u;a++)0==c[f.zeroProps[a]]&&(n>4&&(u=!0),p="div hidden with attribute: zero_attr-"+f.zeroProps[a],y("found adblock zero attr: "+f.zeroProps[a])),1==c[f.zeroProps[a]]&&(p="div visible with attribute: zero_attr-"+f.zeroProps[a],y("found adblock zero attr: "+f.zeroProps[a]))}if(!u&&void 0!==window.getComputedStyle){var b=window.getComputedStyle(c,null);"none"!=b.getPropertyValue("display")&&"hidden"!=b.getPropertyValue("visibility")||(n>4&&(u=!0),p="computedStyle indicator",y("found adblock computedStyle indicator"))}!0;if(u||n++>=i.maxLoop){m=u;try{u?e.blockerDetected(p,n):e.blockerNotDetected(p,n)}catch(t){y(t.message)}y("exiting test loop - value: "+m),function(){var t,e;if(null===m)return;for(t=0;t<s.length;t++){e=s[t];try{null!=e&&(g(e.complete)&&e.complete(m),m&&g(e.found)?e.found():!1===m&&g(e.notfound)&&e.notfound())}catch(t){y("Failure in notify listeners "+t.Message,!0)}}}(),x()&&setTimeout(function(){r=!1},5)}else v.test=setTimeout(function(){t(o,n)},i.loopDelay)}(t,1)},5),!o&&i.testRemoteList&&P())}function D(t){var e,o=document.body,n="width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;";if(null!=t&&"string"!=typeof t){for(null!=t.style&&(n+=t.style),c=function(t,e){var o,n,r=e;if(n=document.createElement(t),r)for(o in r)r.hasOwnProperty(o)&&n.setAttribute(o,r[o]);return n}("div",{class:t.cssClass,style:n}),y("adding bait node to DOM"),o.appendChild(c),e=0;e<f.nullProps.length;e++)c[f.nullProps[e]];for(e=0;e<f.zeroProps.length;e++)c[f.zeroProps[e]]}else y("invalid bait being cast")}function x(){if(null===c)return!0;try{g(c.remove)&&c.remove(),document.body.removeChild(c)}catch(t){}return c=null,!0}function E(){var e,o,n,r,l=!1;document.readyState&&"complete"==document.readyState&&(l=!0),e=function(){i.useLocalBait?k(d,!1):(y("ignoreing local bait - download remote"),P())},l?e():(o=t,n="load",r=e,a?o.attachEvent("on"+n,r):o.addEventListener(n,r,!1))}var z,L,T,N,O,C,_,F={init:function(t){var e,o;if(t){for(e in o={complete:n,found:n,notfound:n},t)t.hasOwnProperty(e)&&("complete"==e||"found"==e||"notFound"==e?o[e.toLowerCase()]=t[e]:i[e]=t[e]);s.push(o),b=new u,E()}}};t.adblockDetector=F,e={key:{BLOCKER:"AdBlocker",FOUND:"Found",NOT_FOUND:"NotFound",DETECT:"Detect"},recordEvent:function(t,e,o,n){ga("send","event",t,e,o,n)},blockerDetected:function(t,o){var n=e.key;e.recordEvent(n.DETECT,n.FOUND,t,o)},blockerNotDetected:function(t,o){var n=e.key;e.recordEvent(n.DETECT,n.NOT_FOUND,t,o)}},z="UA-19374950-21",L=window,T=document,N="script",O="ga",L.GoogleAnalyticsObject=O,L.ga=L.ga||function(){(L.ga.q=L.ga.q||[]).push(arguments)},L.ga.l=1*new Date,C=T.createElement(N),_=T.getElementsByTagName(N)[0],C.async=1,C.src="//www.google-analytics.com/analytics.js",_.parentNode.insertBefore(C,_),ga("create",z,"auto")}(window);
